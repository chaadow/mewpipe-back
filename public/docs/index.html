<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["http"]);
        });

        var url = document.URL;
        var lastChar = url.substr(-1); // Selects the last character
        if (lastChar != '/') {         // If the last character is not a slash
          location.href = url + '/';
        }
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img width="225px" src="images/logo-mewpipe.svg" />
        <div class="lang-selector">
              <a href="#" data-language-name="http">http</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Bienvenue à la documentation officielle de l&#39;API Mewpipe.
L&#39;implementation de l&#39;API se trouve dans le code source envoyé par mail.</p>

<p>Utilisant cette API, Une application Gulp/Angular.js est egalement disponible comme notre appli front et qui se trouve egalement dans les documents joints.</p>

<p>Ce qui suit documente la V1 de l&#39;API.</p>

          <h1 id="overview">Overview</h1>

<h2 id="general-notes">General Notes</h2>

<p>You are encouraged to always provide a valid <code class="prettyprint">user-agent</code> string.</p>

<h2 id="current-version">Current Version</h2>

<p>The current version of API is V1. The version is defined on the resource, thus reflecting
the resource version and not in the Accept header.</p>
<pre><code class="highlight http"><span class="nf">GET</span> <span class="nn">/api/v1/resource</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">rails-tutorial-api.heroku.com</span>
</code></pre>

<h2 id="datetimes-representations">DateTimes representations</h2>

<p>All date/time representations are on ISO 8601 format:
<code class="prettyprint">
YYYY-MM-DDTHH:MM:SSZ
</code>
The returned timezone is UTC.</p>

<h2 id="client-errors">Client Errors</h2>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">35</span>
<span class="s">{</span>
<span class="s">  "message":"Problems parsing JSON"</span>
<span class="s">}</span>
</code></pre>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">422</span> <span class="ne">Unprocessable Entity</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">149</span>
<span class="s">{</span>
<span class="s">  "errors": [</span>
<span class="s">    {</span>
<span class="s">      "field": "title",</span>
<span class="s">      "message": "title cannot be blank"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "field": "description",</span>
<span class="s">      "message": "description must be less than 1000 characters"</span>
<span class="s">    },</span>
<span class="s">  ]</span>
<span class="s">}</span>
</code></pre>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">401</span> <span class="ne">Unprocessable Entity</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">149</span>
<span class="s">{</span>
<span class="s">  "message": "Authentication Failed",</span>
<span class="s">}</span>
</code></pre>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">403</span> <span class="ne">Unprocessable Entity</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">149</span>
<span class="s">{</span>
<span class="s">  "message": "Not authorized action for that resource",</span>
<span class="s">}</span>
</code></pre>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Unprocessable Entity</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">149</span>
<span class="s">{</span>
<span class="s">  "message": "Something went terribly wrong here. Open a github issue :)",</span>
<span class="s">}</span>
</code></pre>

<p>The client errors are pretty basic, yet helpful.</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; You have a critical error on your request, like bad JSON representation</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; You try to access a protected resource without providing authentication credentials or with wrong credentials</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You try to access or act on a protected resource but your credentials that you provide do not authorize your action for that resource.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>422</td>
<td>lalala &ndash; Your request is understood but you miss a required param, or part of your json is in wrong format (like sending an date object in an integer param)</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; Slown down! Follow the rate limits!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; Something went terribly wrong, open a gihub issue :)</td>
</tr>
</tbody></table>

<h2 id="authentication">Authentication</h2>
<pre><code class="highlight http"><span class="nf">POST</span> <span class="nn">/api/v1/sessions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">rails-tutorial-api.heroku.com</span>
<span class="s">{</span>
<span class="s">  "user": {</span>
<span class="s">    "email": "example@railstutorial.org",</span>
<span class="s">    "password": "123123123"</span>
<span class="s">  }</span>
<span class="s">}</span>
</code></pre>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "token": "TnQfBY1S/aMdO46sUfXx8mkPa4yxawqgaqVlD2YNzj19QlGI02eFIpoj9YaBtXm3efQZt5oXIQ6DpBw9gvuVGA==",</span>
<span class="s">  "user_email": "example@railstutorial.org",</span>
<span class="s">  "user_id": 1</span>
<span class="s">}</span>
</code></pre>

<p>In order to be able to act on behalf of a user, you must first retrieve her token
via the sessions endpoint.</p>

<h2 id="authorization">Authorization</h2>
<pre><code class="highlight http"><span class="nf">GET</span> <span class="nn">/api/v1/resource</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">rails-tutorial-api.heroku.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token="TnQfBY1S/aMdO46sUfXx8mkPa4yxawqgaqVlD2YNzj19QlGI02eFIpoj9YaBtXm3efQZt5oXIQ6DpBw9gvuVGA==", user_email="example@railstutorial.org"</span>
</code></pre>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "user":{</span>
<span class="s">    "id":1,</span>
<span class="s">    "email":"example@railstutorial.org",</span>
<span class="s">    "name":"Example Use",</span>
<span class="s">    "activated":true,</span>
<span class="s">    "created_at":"2015-01-13T20:35:24Z",</span>
<span class="s">    "updated_at":"2015-02-09T19:47:36Z"</span>
<span class="s">  }</span>
<span class="s">}</span>
</code></pre>

<p>You can authenticate in the API by providing the user&rsquo;s token and email in the <code class="prettyprint">Authorization</code> header.</p>

<h2 id="pagination">Pagination</h2>
<pre><code class="highlight http"><span class="nf">GET</span> <span class="nn">/api/v1/resource?page=2&amp;per_page=100</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.travis-ci.2+json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">rails-tutorial-api.heroku.com</span>
</code></pre>

<p>Requests that return multiple items will be paginated to 30 items by default.
You can specify further pages with the <code class="prettyprint">?page</code> parameter.
For some resources, you can also set a custom page size up to 100 with the <code class="prettyprint">?per_page</code> parameter.</p>

<h2 id="rate-limiting">Rate Limiting</h2>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Mon, 01 Jul 2013 17:27:06 GMT</span>
<span class="na">Status</span><span class="p">:</span> <span class="s">200 OK</span>
<span class="na">X-Ratelimit-Limit</span><span class="p">:</span> <span class="s">100000</span>
<span class="na">X-Ratelimit-Remaining</span><span class="p">:</span> <span class="s">99994</span>
</code></pre>

<p>You can check the returned HTTP headers of any API request to see your current rate limit status.</p>

<p>It should be noted that the rate limit is variable, depending on the server load. Please stay on the limits.</p>

<p>If you have abused the limits, you will receive a 429 error as described in the <a href="#client-errors">Client Errors</a></p>

<aside class="notice">
Although there are no hard limits, you should follow the limits defined on the API response
</aside>

<h2 id="cross-origin-resource-sharing">Cross Origin Resource Sharing</h2>

<p>The API supports Cross Origin Resource Sharing (CORS) for AJAX requests from any origin.</p>

<h2 id="meta-data">Meta Data</h2>
<pre><code class="highlight http"><span class="nf">GET</span> <span class="nn">/api/v1/resources</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">4567</span>
<span class="s">{</span>
<span class="s">  "resources": [</span>
<span class="s">    {</span>
<span class="s">      "attribute1":1,</span>
<span class="s">      "attribute2":"test-attribute 1",</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "attribute1":2</span>
<span class="s">      "attribute2":"test-attribute 2"</span>
<span class="s">    }</span>
<span class="s">  ],</span>
<span class="s">  "meta":{</span>
<span class="s">    "current_page":45,</span>
<span class="s">    "next_page":46,</span>
<span class="s">    "prev_page":44,</span>
<span class="s">    "total_pages":53,</span>
<span class="s">    "total_count":105</span>
<span class="s">  }</span>
<span class="s">}</span>
</code></pre>

<p>In each GET request that acts upon resources, there is an extra field in the response under &ldquo;meta&rdquo; root element.
It includes, the current requested page, next page, previous page, total pages and the total number of resources under the given params.</p>

<h2 id="other-information">Other information</h2>

<p>When requesting a list of resources, default sorting is descending by creation datetime.</p>

<p>For all collection endpoints, active_hash_relation has been used which means you have plenty
options to filter </p>

          <h1 id="users">Users</h1>

<h2 id="list-users">List Users</h2>
<pre><code class="highlight http"><span class="nf">GET</span> <span class="nn">/api/v1/users</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">4567</span>
<span class="s">{</span>
<span class="s">  "users":[</span>
<span class="s">    {</span>
<span class="s">      "id":1,</span>
<span class="s">      "email":"example-88@railstutorial.org",</span>
<span class="s">      "nickname":"Kenna Ondricka",</span>

      "created_at":"2015-01-13T20:35:47Z",
      "updated_at":"2015-02-02T22:09:50Z"
    },
    {
      "id":1,
      "email":"example-89@railstutorial.org",
      "nickname":"Della Oberbrunner PhD",

      "created_at":"2015-01-13T20:35:47Z",
      "updated_at":"2015-02-02T22:09:50Z"
    }
  ],
  "meta":{
    "current_page":1,
    "next_page":2,
    "prev_page":null,
    "total_pages":10,
    "total_count":300
  }
}
</code></pre>

<p>You can GET all users in /api/v1/users.
You can filter by any attribute.
More on the index micro-API <a href="https://github.com/kollegorna/active_hash_relation">here</a>.
It doesn&rsquo;t require authentication.</p>

<h2 id="create-a-user">Create a User</h2>
<pre><code class="highlight http"><span class="nf">POST</span> <span class="nn">/api/v1/users</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>

{
  "user": {
    "email":"example-88@railstutorial.org",
    "nickname":"Kenna Ondricka",
  }
}
</code></pre>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">4567</span>
<span class="s">{</span>
<span class="s">  "user": {</span>
<span class="s">    "id":1,</span>
<span class="s">    "email":"example-88@railstutorial.org",</span>
<span class="s">    "nickname":"Kenna Ondricka",</span>

    "created_at":"2015-01-13T20:35:47Z",
    "updated_at":"2015-02-02T22:09:50Z"
  }
},
</code></pre>

<p>You can create a new user sending a POST to <code class="prettyprint">/api/v1/users</code> with the necessary attributes.
A user object should at least include, an email, a password
It doesn&rsquo;t require authentication.</p>

<h2 id="show-a-user">Show a User</h2>
<pre><code class="highlight http"><span class="nf">GET</span> <span class="nn">/api/v1/users/1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">4567</span>
<span class="s">{</span>
<span class="s">  "user": {</span>
<span class="s">    "id":1,</span>
<span class="s">    "email":"example-88@railstutorial.org",</span>
<span class="s">    "nickname":"An updated name",</span>

    "created_at":"2015-01-13T20:35:47Z",
    "updated_at":"2015-02-02T22:09:50Z"
  }
},
</code></pre>

<p>You can retrieve a user&rsquo;s info by sending a GET request to <code class="prettyprint">/api/v1/users/{id}</code>.</p>

<h2 id="update-a-user">Update a User</h2>
<pre><code class="highlight http"><span class="nf">PUT</span> <span class="nn">/api/v1/users/1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "user": {</span>
<span class="s">    "nickname":"An updated name",</span>
<span class="s">  }</span>
<span class="s">}</span>
</code></pre>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">4567</span>
<span class="s">{</span>
<span class="s">  "user": {</span>
<span class="s">    "id":1,</span>
<span class="s">    "email":"example-88@railstutorial.org",</span>
<span class="s">    "nickname":"An updated name",</span>

    "created_at":"2015-01-13T20:35:47Z",
    "updated_at":"2015-02-02T22:09:50Z"
  }
},
</code></pre>

<p>You can update a user&rsquo;s attributes by sending a PUT request to <code class="prettyprint">/api/v1/users/{id}</code> with the necessary attributes.</p>

<h2 id="destroy-a-user">Destroy a User</h2>
<pre><code class="highlight http"><span class="nf">DELETE</span> <span class="nn">/api/v1/users/1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">NO CONTENT</span>

</code></pre>

<p>You get back a 204 no Content.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="http">http</a>
          </div>
      </div>
    </div>
  </body>
</html>
